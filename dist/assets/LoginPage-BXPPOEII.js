import{c as f,r as a,y,B as b,j as e,D as v,z as l}from"./index-Cyx07lUy.js";import{E as N}from"./eye-off-QyAcxC8U.js";import{E}from"./eye-C3qHwsAR.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=f("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function C(){const[t,u]=a.useState(""),[i,h]=a.useState(""),[r,p]=a.useState(!1),[c,d]=a.useState(!1),[o,n]=a.useState(""),{signIn:x}=y(),g=b(),j=async s=>{if(s.preventDefault(),n(""),!t||!i){n("Preencha todos os campos");return}d(!0);try{const{error:m}=await x(t,i);m?(n("Usuário ou senha incorretos. Verifique e tente novamente."),l.error("Usuário ou senha incorretos")):(l.success("Login realizado com sucesso!"),g("/admin"))}catch{n("Erro ao fazer login. Tente novamente."),l.error("Erro inesperado no login")}finally{d(!1)}};return e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"login-card card",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("div",{className:"login-logo",children:e.jsx(v,{size:32,strokeWidth:2.5})}),e.jsx("h1",{children:"Painel Administrativo"}),e.jsx("p",{children:"Faça login para acessar o painel"})]}),e.jsxs("form",{onSubmit:j,className:"login-form",children:[o&&e.jsxs("div",{className:"login-error",children:[e.jsx(w,{size:18}),e.jsx("span",{children:o})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Email"}),e.jsx("input",{type:"email",value:t,onChange:s=>u(s.target.value),placeholder:"admin@diamanteazul.com",autoComplete:"email",className:o?"input-error":""})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Senha"}),e.jsxs("div",{className:"login-password-wrapper",children:[e.jsx("input",{type:r?"text":"password",value:i,onChange:s=>h(s.target.value),placeholder:"Sua senha",autoComplete:"current-password",className:o?"input-error":""}),e.jsx("button",{type:"button",className:"login-eye-btn",onClick:()=>p(!r),"aria-label":r?"Esconder senha":"Mostrar senha",children:r?e.jsx(N,{size:18}):e.jsx(E,{size:18})})]})]}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-block btn-lg",disabled:c,children:c?"Entrando...":"Entrar"})]})]})})}export{C as default};
