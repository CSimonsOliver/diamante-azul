import{e as g,u as b,j as s,H as y,n as N,L as c,f as v,h as e,M as f,P as C,A as k}from"./index-CesZUHVg.js";import{B as z}from"./Breadcrumb-fwi0s3ck.js";import{T as S}from"./trash-2-Bw3_BW04.js";function B(){const{items:o,removeItem:u,updateQuantity:i,getSubtotal:m,clearCart:x}=g(),{settings:n}=b(),t=m(),a=(n==null?void 0:n.frete_gratis_acima)||299;return s.jsxs(s.Fragment,{children:[s.jsx(y,{children:s.jsx("title",{children:"Carrinho ‚Äî Diamante Azul"})}),s.jsx(z,{items:[{label:"Carrinho"}]}),s.jsxs("div",{className:"container cart-page",children:[s.jsx("h1",{className:"section-title mb-6",children:"Carrinho de Compras"}),o.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx(N,{size:64,strokeWidth:1.5}),s.jsx("h3",{children:"Seu carrinho est√° vazio"}),s.jsx("p",{children:"Adicione produtos para continuar."}),s.jsx(c,{to:"/produtos",className:"btn btn-primary mt-4",children:"Ver Produtos"})]}):s.jsxs("div",{className:"cart-layout",children:[s.jsxs("div",{className:"cart-items",children:[s.jsx("div",{className:"table-container",children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Produto"}),s.jsx("th",{children:"Pre√ßo"}),s.jsx("th",{children:"Quantidade"}),s.jsx("th",{children:"Total"}),s.jsx("th",{})]})}),s.jsx("tbody",{children:o.map(r=>{var d,h;const l=r.product.preco_promocional??r.product.preco,j=(h=(d=r.product.imagens)==null?void 0:d[0])==null?void 0:h.url;return s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"cart-product-cell",children:[s.jsx("img",{src:v(j),alt:r.product.nome,className:"cart-product-img",onError:p=>{p.target.src="/placeholder-product.svg"}}),s.jsxs("div",{children:[s.jsx(c,{to:`/produtos/${r.product.slug}`,className:"cart-product-name",children:r.product.nome}),r.product.sku&&s.jsxs("span",{className:"cart-product-sku",children:["SKU: ",r.product.sku]})]})]})}),s.jsx("td",{children:e(l)}),s.jsx("td",{children:s.jsxs("div",{className:"cart-qty",children:[s.jsx("button",{onClick:()=>i(r.product.id,r.quantity-1),className:"qty-btn",children:s.jsx(f,{size:14})}),s.jsx("span",{children:r.quantity}),s.jsx("button",{onClick:()=>i(r.product.id,r.quantity+1),disabled:r.quantity>=r.product.estoque,className:"qty-btn",children:s.jsx(C,{size:14})})]})}),s.jsx("td",{children:s.jsx("strong",{children:e(l*r.quantity)})}),s.jsx("td",{children:s.jsx("button",{onClick:()=>u(r.product.id),className:"cart-remove-btn",title:"Remover",children:s.jsx(S,{size:16})})})]},r.product.id)})})]})}),s.jsxs("div",{className:"cart-actions mt-4",children:[s.jsx(c,{to:"/produtos",className:"btn btn-outline",children:"Continuar comprando"}),s.jsx("button",{onClick:x,className:"btn btn-outline",style:{color:"var(--color-discount)"},children:"Limpar carrinho"})]})]}),s.jsxs("div",{className:"cart-summary card p-6",children:[s.jsx("h2",{style:{fontSize:18,fontWeight:600,marginBottom:16},children:"Resumo"}),t<a&&s.jsxs("div",{className:"cart-free-shipping-bar mb-4",children:[s.jsxs("p",{style:{fontSize:13,color:"var(--color-text-muted)",marginBottom:6},children:["Faltam ",s.jsx("strong",{style:{color:"var(--color-primary)"},children:e(a-t)})," para frete gr√°tis!"]}),s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:"progress-fill",style:{width:`${Math.min(100,t/a*100)}%`}})})]}),t>=a&&s.jsx("div",{className:"badge badge-green mb-4",style:{width:"100%",justifyContent:"center",padding:"8px 12px"},children:"üéâ Voc√™ ganhou frete gr√°tis!"}),s.jsxs("div",{className:"cart-summary-row",children:[s.jsx("span",{children:"Subtotal"}),s.jsx("strong",{children:e(t)})]}),s.jsxs("div",{className:"cart-summary-row",style:{color:"var(--color-text-muted)",fontSize:14},children:[s.jsx("span",{children:"Frete"}),s.jsx("span",{children:t>=a?"Gr√°tis":"Calculado no checkout"})]}),s.jsxs("div",{className:"cart-summary-total",children:[s.jsx("span",{children:"Total"}),s.jsx("strong",{children:e(t)})]}),s.jsxs(c,{to:"/checkout",className:"btn btn-primary btn-block btn-lg mt-4",children:["Finalizar Compra ",s.jsx(k,{size:18})]})]})]})]})]})}export{B as default};
